#!/bin/bash

docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '00000000-0000-0000-0000-000000000000' and requirement_id < '10000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '10000000-0000-0000-0000-000000000000' and requirement_id < '20000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '20000000-0000-0000-0000-000000000000' and requirement_id < '30000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '30000000-0000-0000-0000-000000000000' and requirement_id < '40000000-0000-0000-0000-000000000000';" &
disown

docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '40000000-0000-0000-0000-000000000000' and requirement_id < '50000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '50000000-0000-0000-0000-000000000000' and requirement_id < '60000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '60000000-0000-0000-0000-000000000000' and requirement_id < '70000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '70000000-0000-0000-0000-000000000000' and requirement_id < '80000000-0000-0000-0000-000000000000';" &
disown

docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '80000000-0000-0000-0000-000000000000' and requirement_id < '90000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= '90000000-0000-0000-0000-000000000000' and requirement_id < 'a0000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= 'a0000000-0000-0000-0000-000000000000' and requirement_id < 'b0000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= 'b0000000-0000-0000-0000-000000000000' and requirement_id < 'c0000000-0000-0000-0000-000000000000';" &
disown

docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= 'c0000000-0000-0000-0000-000000000000' and requirement_id < 'd0000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= 'd0000000-0000-0000-0000-000000000000' and requirement_id < 'e0000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= 'e0000000-0000-0000-0000-000000000000' and requirement_id < 'f0000000-0000-0000-0000-000000000000';" \
&& docker container exec $(docker container ls --format '{{.Names}}' | grep pypi_scraper_db) psql --user pypi_scraper defaultdb -c "SET search_path = pypi_packages; update requirements set specifier_set = parse_specifier_set(version_constraint) where requirement_id >= 'f0000000-0000-0000-0000-000000000000'" &
disown

